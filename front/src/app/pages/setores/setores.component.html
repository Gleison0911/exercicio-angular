<section class="mx-4">
  <div class="grid align-items-center justify-content-center w-full my-5">
    <div class="col-2 ">
      <button pButton type="button" class="w-full justify-content-center text-center"
        (click)="showDialog()">Adicionar</button>
    </div>
    <div class="col-10 ">
      <app-searchbox (onSearch)="getAll($event)"></app-searchbox>
    </div>
  </div>

  <div class="box mx-1">
    <div class="grow grid">
      <p-table [value]="items" class="w-full">
        <ng-template pTemplate="header">
          <tr>
            <th class="col-2">#</th>
            <th class="col-4">Nome</th>
            <th class="col-2">Editar</th>
            <th class="col-2">Excluir</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-s>
          <tr>
            <td>{{s.id}}</td>
            <td>{{s.nome}}</td>
            <td class="p-3">
              <button pButton pRipple type="button" icon="pi pi-pencil"
                class="p-button-rounded p-button-outlined p-button-warning"
                (click)="edit(s.id);  showDialog()"></button>
            </td>
            <td class="p-3">
              <button pButton pRipple type="button" icon="pi pi-trash"
                class="p-button-rounded p-button-danger p-button-outlined" (click)="delete(s.id)"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</section>

<p-dialog [(visible)]="display" [transitionOptions]="'350ms'" [style]="{width: '30vw', height: '25em'}">
  <ng-template pTemplate="header">
    <h2> Dados cadastrais </h2>
  </ng-template>
  <div class="grid w-full">
    <div class="col-12">
      <form [formGroup]="formData" (ngSubmit)="saveData()">
        <span class="p-float-label">
          <input type="text" class="w-full" pInputText id="id" name="id" formControlName="id" placeholder="ID">
          <label for="float-input"> ID </label>
        </span>

        <span class="p-float-label my-4">
          <input type="text" class="w-full" pInputText id="nome" name="nome" formControlName="nome" placeholder="Nome">
          <label for="float-input"> Nome </label>
        </span>
      </form>
    </div>

    <div class="col-12">
      <button type="button" pButton autofocus (click)="saveData()">Salvar</button>
    </div>
  </div>
</p-dialog>
